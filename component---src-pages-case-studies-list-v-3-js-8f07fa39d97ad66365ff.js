"use strict";(self.webpackChunkdigital_twin_atlas=self.webpackChunkdigital_twin_atlas||[]).push([[971],{7986:function(e,t,a){a.r(t);var l=a(5785),n=a(7294),r=(a(1883),a(3574)),c=a(7048),s=a.n(c),o=a(6158),m=a.n(o),u=a(3148),i=a(6495),d=a(7061);u.kL.register(u.uw,u.f$,u.ZL,u.qi,u.Dx,u.u,u.De);m().accessToken="pk.eyJ1IjoicmVhbHRpbWVsYWIiLCJhIjoiY2x6cWUyYmNkMGNyNzJxcTg5ZHB3cmM3aCJ9.GxeOk3BD74C7ElBQZZCguw";t.default=()=>{const{0:e,1:t}=(0,n.useState)("alphabetical"),{0:a,1:c}=(0,n.useState)("asc"),{0:o,1:u}=(0,n.useState)(!1),{0:g,1:E}=(0,n.useState)(""),{0:p,1:y}=(0,n.useState)(12),{0:h,1:C}=(0,n.useState)({country:"",status:"",startYear:"",endYear:""}),{0:N,1:S}=(0,n.useState)(null),f=(0,n.useRef)(),v=(0,n.useRef)(null),b=(0,n.useRef)(null),P=(0,n.useRef)([]),k=e=>{const{name:t,value:a}=e.target;C({...h,[t]:a})};(0,n.useEffect)((()=>{v.current&&!b.current&&(b.current=new(m().Map)({container:v.current,style:"mapbox://styles/mapbox/streets-v11",center:[0,0],zoom:2}))}),[]);const A=(0,l.Z)(s()).filter((e=>(!o||"Yes"===e.shortList)&&(""===g||e.name.toLowerCase().includes(g.toLowerCase()))&&(""===h.country||e.country===h.country)&&(""===h.status||e.FinalStatus===h.status)&&(""===h.startYear||e["Start Year"]>=h.startYear)&&(""===h.endYear||e["End Year"]<=h.endYear||"N/A"===e["End Year"]))).sort(((t,l)=>{const n="asc"===a?1:-1;switch(e){case"alphabetical":return n*t.name.localeCompare(l.name);case"city":return n*t.location.localeCompare(l.location);case"country":return n*t.country.localeCompare(l.country);case"area":return n*(parseFloat(l["Total Area (km2)"])-parseFloat(t["Total Area (km2)"]));case"startYear":return n*(t["Start Year"]-l["Start Year"]);case"status":return n*t.FinalStatus.localeCompare(l.FinalStatus);default:return 0}})),F=A.slice(0,p);(0,n.useEffect)((()=>{(e=>{if(b.current){P.current.forEach((e=>e.remove())),P.current=[];const t=new(m().LngLatBounds);e.forEach((e=>{if(e.lat&&e.lng){const a=(new(m().Marker)).setLngLat([e.lng,e.lat]).setPopup(new(m().Popup)({offset:25}).setText(e.name)).addTo(b.current);a.getElement().addEventListener("click",(()=>{S(e.id)})),P.current.push(a),t.extend([e.lng,e.lat])}})),e.length>0&&!t.isEmpty()?b.current.fitBounds(t,{padding:50}):(b.current.setCenter([0,0]),b.current.setZoom(2))}})(A.slice(0,p))}),[h,g,o,a,e,p]),(0,n.useEffect)((()=>{const e=new IntersectionObserver((e=>{e[0].isIntersecting&&y((e=>Math.min(e+12,A.length)))}));return f.current&&e.observe(f.current),()=>{f.current&&e.unobserve(f.current)}}),[A]);const Y={labels:(0,l.Z)(new Set(s().map((e=>e.country)))),datasets:[{label:"Number of Projects by Country",data:(0,l.Z)(new Set(s().map((e=>e.country)))).map((e=>s().filter((t=>t.country===e)).length)),backgroundColor:getComputedStyle(document.documentElement).getPropertyValue("--secondary-color")+"B3",borderColor:getComputedStyle(document.documentElement).getPropertyValue("--secondary-color"),borderWidth:1}]},w={labels:["Completed","In Progress","Failed","Did Not Start"],datasets:[{label:"Project Status Distribution",data:[s().filter((e=>"Completed"===e.FinalStatus)).length,s().filter((e=>"In Progress"===e.FinalStatus)).length,s().filter((e=>"Failed"===e.FinalStatus)).length,s().filter((e=>"Did Not Start"===e.FinalStatus)).length],backgroundColor:[getComputedStyle(document.documentElement).getPropertyValue("--accent-color-1")+"B3",getComputedStyle(document.documentElement).getPropertyValue("--primary-color")+"B3",getComputedStyle(document.documentElement).getPropertyValue("--accent-color-3")+"B3",getComputedStyle(document.documentElement).getPropertyValue("--accent-color-2")+"B3"],borderColor:[getComputedStyle(document.documentElement).getPropertyValue("--accent-color-1"),getComputedStyle(document.documentElement).getPropertyValue("--primary-color"),getComputedStyle(document.documentElement).getPropertyValue("--accent-color-3"),getComputedStyle(document.documentElement).getPropertyValue("--accent-color-2")],borderWidth:1}]},x=e=>{let{study:t,onClose:a}=e;return n.createElement("div",{className:"overlay"},n.createElement("div",{className:"overlay-content"},n.createElement("button",{className:"close-button",onClick:a},"Close"),n.createElement("h3",null,t.name),n.createElement("img",{src:t.imagePath||d.Z,alt:t.name,className:"duotone img"}),n.createElement("ul",{className:"details-list"},n.createElement("li",null,n.createElement("strong",null,"Country:")," ",t.country||"N/A"),n.createElement("li",null,n.createElement("strong",null,"City:")," ",t.location||"N/A"),n.createElement("li",null,n.createElement("strong",null,"Creators:")," ",t.Creators||"N/A"),n.createElement("li",null,n.createElement("strong",null,"Total Area:")," ",t["Total Area (km2)"]||"N/A"," km²"),n.createElement("li",null,n.createElement("strong",null,"Platform/Organization:")," ",t["Platform/Organization"]||"N/A"),n.createElement("li",null,n.createElement("strong",null,"System Digital Twinned:")," ",t["System Digital Twinned"]||"N/A"),n.createElement("li",null,n.createElement("strong",null,"3D Platform Features:")," ",t["3D Platform Features"]||"N/A"),n.createElement("li",null,n.createElement("span",{style:{color:"Completed"===t.FinalStatus?"green":"In Progress"===t.FinalStatus?"orange":"red"}},n.createElement("strong",null,"Status: "),t.FinalStatus||"N/A")))))};return n.createElement("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"}},n.createElement(r.Z,null),n.createElement("h1",null,"Case Studies"),n.createElement("div",{className:"controls sticky-filters"},n.createElement("div",{className:"filters-group"},n.createElement("div",{className:"filter-controls"},n.createElement("label",null,"Filters:"),n.createElement("select",{name:"country",value:h.country,onChange:k},n.createElement("option",{value:""},"Country: All"),(0,l.Z)(new Set(s().map((e=>e.country)))).map((e=>n.createElement("option",{key:e,value:e},e)))),n.createElement("select",{name:"status",value:h.status,onChange:k},n.createElement("option",{value:""},"Status: All"),n.createElement("option",{value:"Completed"},"Completed"),n.createElement("option",{value:"In Progress"},"In Progress"),n.createElement("option",{value:"Failed"},"Failed"),n.createElement("option",{value:"Did Not Start"},"Did Not Start")),n.createElement("input",{type:"number",name:"startYear",className:"search-bar",placeholder:"Start Year",value:h.startYear,onChange:e=>k(e),min:"1900",max:"2100"}),n.createElement("input",{type:"number",name:"endYear",className:"search-bar",placeholder:"End Year",value:h.endYear,onChange:e=>k(e),min:"1900",max:"2100"})),n.createElement("input",{type:"text",className:"search-bar",placeholder:"Search case studies...",value:g,onChange:e=>E(e.target.value)}),n.createElement("button",{onClick:()=>{C({country:"",status:"",startYear:"",endYear:""}),E(""),u(!1)},className:"clear-filters-button"},"Clear Filters")),n.createElement("div",{className:"sort-toggle-group"},n.createElement("div",{className:"toggle-switch"},n.createElement("label",{className:"toggle-label"},n.createElement("input",{type:"checkbox",checked:o,onChange:e=>u(e.target.checked)}),n.createElement("span",{className:"slider"}),n.createElement("span",{className:"toggle-text"},"Short List Only"))),n.createElement("div",{className:"toggle-button"},n.createElement("button",{onClick:()=>c("asc"===a?"desc":"asc")},"asc"===a?"Ascending":"Descending")))),n.createElement("div",{className:"charts"},n.createElement("div",{className:"chart-wrapper"},n.createElement("h3",{className:"chart-title"},"Project Status Distribution"),n.createElement("div",{className:"chart-container"},n.createElement(i.by,{data:w,options:{maintainAspectRatio:!1}}))),n.createElement("div",{className:"chart-wrapper"},n.createElement("h3",{className:"chart-title"},"Projects by Country"),n.createElement("div",{className:"chart-container"},n.createElement(i.$Q,{data:Y,options:{maintainAspectRatio:!1}})))),n.createElement("div",{className:"map-container1"},n.createElement("div",{id:"map",ref:v})),n.createElement("div",{className:"case-studies-grid"},F.map((e=>n.createElement("div",{className:"card case-study-card "+(e.id===N?"selected":""),key:e.id,onClick:()=>S(e.id)},n.createElement("h3",{className:"card-title"},e.name),n.createElement("div",{className:"image-container"},n.createElement("img",{src:e.imagePath||d.Z,alt:e.name,className:"duotone img"}),"Yes"===e.shortList&&n.createElement("span",{className:"shortlist-tag"},"Short Listed")),n.createElement("div",{className:"card-body"},n.createElement("ul",{className:"details-list"},n.createElement("li",null,n.createElement("strong",null,"Country:")," ",e.country||"N/A"),n.createElement("li",null,n.createElement("strong",null,"City:")," ",e.location||"N/A"),n.createElement("li",null,n.createElement("strong",null,"Creators:")," ",e.Creators||"N/A"),n.createElement("li",null,n.createElement("strong",null,"Total Area:")," ",e["Total Area (km2)"]||"N/A"," km²"),n.createElement("li",null,n.createElement("strong",null,"Platform/Organization:")," ",e["Platform/Organization"]||"N/A"),n.createElement("li",null,n.createElement("strong",null,"System Digital Twinned:")," ",e["System Digital Twinned"]||"N/A"),n.createElement("li",null,n.createElement("strong",null,"3D Platform Features:")," ",e["3D Platform Features"]||"N/A"),n.createElement("li",null,n.createElement("span",{style:{color:"Completed"===e.FinalStatus?"green":"In Progress"===e.FinalStatus?"orange":"red"}},n.createElement("strong",null,"Status: "),e.FinalStatus||"N/A")))))))),n.createElement("div",{ref:f,style:{height:"50px",marginTop:"20px"}}),N&&n.createElement(x,{study:s().find((e=>e.id===N)),onClose:()=>S(null)}))}}}]);
//# sourceMappingURL=component---src-pages-case-studies-list-v-3-js-8f07fa39d97ad66365ff.js.map