"use strict";(self.webpackChunkdigital_twin_atlas=self.webpackChunkdigital_twin_atlas||[]).push([[658],{2458:function(e,t,a){a.r(t);var r=a(5785),l=a(7294),n=a(1883),c=a(3574),s=a(7048),o=a.n(s),m=a(3148),i=a(6495),u=a(7061),d=a(3671);m.kL.register(m.uw,m.f$,m.ZL,m.qi,m.Dx,m.u,m.De);t.default=()=>{const{0:e,1:t}=(0,l.useState)("alphabetical"),{0:a,1:s}=(0,l.useState)("asc"),{0:m,1:g}=(0,l.useState)(!1),{0:p,1:E}=(0,l.useState)(""),{0:h,1:y}=(0,l.useState)(12),{0:b,1:S}=(0,l.useState)({country:"",status:""}),N=(0,l.useRef)(),v=e=>{const{name:t,value:a}=e.target;S({...b,[t]:a})};let C,f,k,w,F;"undefined"!=typeof window&&(C=getComputedStyle(document.documentElement).getPropertyValue("--primary-color").trim(),f=getComputedStyle(document.documentElement).getPropertyValue("--secondary-color").trim(),k=getComputedStyle(document.documentElement).getPropertyValue("--accent-color-1").trim(),w=getComputedStyle(document.documentElement).getPropertyValue("--accent-color-2").trim(),F=getComputedStyle(document.documentElement).getPropertyValue("--accent-color-3").trim());const P=(0,r.Z)(o()).filter((e=>(!m||"Yes"===e.shortList)&&(""===p||e.name.toLowerCase().includes(p.toLowerCase()))&&(""===b.country||e.country===b.country)&&(""===b.status||e.FinalStatus===b.status))).sort(((t,r)=>{const l="asc"===a?1:-1;switch(e){case"alphabetical":return l*t.name.localeCompare(r.name);case"city":return l*t.location.localeCompare(r.location);case"country":return l*t.country.localeCompare(r.country);case"area":return l*(parseFloat(r["Total Area (km2)"])-parseFloat(t["Total Area (km2)"]));case"startYear":return l*(t["Start Year"]-r["Start Year"]);case"status":return l*t.FinalStatus.localeCompare(r.FinalStatus);default:return 0}})),A=P.slice(0,h);(0,l.useEffect)((()=>{const e=new IntersectionObserver((e=>{e[0].isIntersecting&&y((e=>Math.min(e+12,P.length)))}));return N.current&&e.observe(N.current),()=>{N.current&&e.unobserve(N.current)}}),[P]);const x={labels:(0,r.Z)(new Set(o().map((e=>e.country)))),datasets:[{label:"Number of Projects by Country",data:(0,r.Z)(new Set(o().map((e=>e.country)))).map((e=>o().filter((t=>t.country===e)).length)),backgroundColor:f?f+"B3":"rgba(52, 152, 219, 0.7)",borderColor:f||"rgba(52, 152, 219, 1)",borderWidth:1}]},D={labels:["Completed","In Progress","Failed","Did Not Start"],datasets:[{label:"Project Status Distribution",data:[o().filter((e=>"Completed"===e.FinalStatus)).length,o().filter((e=>"In Progress"===e.FinalStatus)).length,o().filter((e=>"Failed"===e.FinalStatus)).length,o().filter((e=>"Did Not Start"===e.FinalStatus)).length],backgroundColor:[k?k+"B3":"rgba(46, 204, 113, 0.7)",C?C+"B3":"rgba(52, 152, 219, 0.7)",F?F+"B3":"rgba(231, 76, 60, 0.7)",w?w+"B3":"rgba(155, 89, 182, 0.7)"],borderColor:[k||"rgba(46, 204, 113, 1)",C||"rgba(52, 152, 219, 1)",F||"rgba(231, 76, 60, 1)",w||"rgba(155, 89, 182, 1)"],borderWidth:1}]};return l.createElement("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"}},l.createElement(c.Z,null),l.createElement("h1",null,"Case Studies"),l.createElement("div",{className:"controls sticky-filters"},l.createElement("div",{className:"filters-group"},l.createElement("div",{className:"filter-controls"},l.createElement("label",null,"Filters:"),l.createElement("select",{name:"country",value:b.country,onChange:v},l.createElement("option",{value:""},"Country: All"),(0,r.Z)(new Set(o().map((e=>e.country)))).map((e=>l.createElement("option",{key:e,value:e},e)))),l.createElement("select",{name:"status",value:b.status,onChange:v},l.createElement("option",{value:""},"Status: All"),l.createElement("option",{value:"Completed"},"Completed"),l.createElement("option",{value:"In Progress"},"In Progress"),l.createElement("option",{value:"Failed"},"Failed"),l.createElement("option",{value:"Did Not Start"},"Did Not Start"))),l.createElement("input",{type:"text",className:"search-bar",placeholder:"Search case studies...",value:p,onChange:e=>E(e.target.value)})),l.createElement("div",{className:"sort-toggle-group"},l.createElement("div",{className:"toggle-switch"},l.createElement("label",{className:"toggle-label"},l.createElement("input",{type:"checkbox",checked:m,onChange:e=>g(e.target.checked)}),l.createElement("span",{className:"slider"}),l.createElement("span",{className:"toggle-text"},"Short List Only"))),l.createElement("div",{className:"toggle-button"},l.createElement("button",{onClick:()=>s("asc"===a?"desc":"asc")},"asc"===a?"Ascending":"Descending")))),l.createElement("div",{className:"charts"},l.createElement("div",{className:"chart-wrapper"},l.createElement("h3",{className:"chart-title"},"Map"),l.createElement("div",{className:"map-container"},l.createElement(d.Z,{caseStudies:o()}))),l.createElement("div",{className:"chart-wrapper"},l.createElement("h3",{className:"chart-title"},"Project Status Distribution"),l.createElement("div",{className:"chart-container"},l.createElement(i.by,{data:D,options:{maintainAspectRatio:!1}})))),l.createElement("div",{className:"chart-wrapper"},l.createElement("h3",{className:"chart-title"},"Projects by Country"),l.createElement("div",{className:"chart-container"},l.createElement(i.$Q,{data:x,options:{maintainAspectRatio:!1}}))),l.createElement("div",{className:"case-studies-grid"},A.map((e=>l.createElement("div",{className:"card case-study-card",key:e.id},l.createElement(n.Link,{to:"/case-studies/"+e.id},l.createElement("h3",{className:"card-title"},e.name),l.createElement("div",{className:"image-container"},l.createElement("img",{src:e.imagePath||u.Z,alt:e.name,className:"duotone img"}),"Yes"===e.shortList&&l.createElement("span",{className:"shortlist-tag"},"Short Listed")),l.createElement("div",{className:"card-body"},l.createElement("ul",{className:"details-list"},l.createElement("li",null,l.createElement("strong",null,"Country:")," ",e.country||"N/A"),l.createElement("li",null,l.createElement("strong",null,"City:")," ",e.location||"N/A"),l.createElement("li",null,l.createElement("strong",null,"Total Area:")," ",e["Total Area (km2)"]||"N/A"," kmÂ²"),l.createElement("li",null,l.createElement("strong",null,"Status: "),l.createElement("span",{style:{color:"Completed"===e.FinalStatus?"green":"In Progress"===e.FinalStatus?"orange":"red"}},e.FinalStatus||"N/A"))))))))),l.createElement("div",{ref:N,style:{height:"50px",marginTop:"20px"}}))}}}]);
//# sourceMappingURL=component---src-pages-case-studies-list-v-2-js-1b5d60f3dbea008cd907.js.map