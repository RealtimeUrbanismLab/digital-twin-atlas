{"version":3,"file":"component---src-pages-index-js-88c970784126d8c397cb.js","mappings":"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","sources":["webpack://digital-twin-atlas/./src/images/marker-icon.png","webpack://digital-twin-atlas/./src/images/marker-icon-selected.png","webpack://digital-twin-atlas/./src/components/Map.js","webpack://digital-twin-atlas/./src/pages/index.js"],"sourcesContent":["export default __webpack_public_path__ + \"static/marker-icon-41f2877e7936742908d3294c0414c7ac.png\";","export default __webpack_public_path__ + \"static/marker-icon-selected-df3c9f2d24f2ceee720bfa6e488759fc.png\";","import React, { useEffect, useState } from 'react';\r\nimport mapboxgl from 'mapbox-gl';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport markerIcon from '../images/marker-icon.png';\r\nimport selectedMarkerIcon from '../images/marker-icon-selected.png';\r\nimport { Link } from 'gatsby';\r\n\r\nconst mapboxToken = process.env.GATSBY_MAPBOX_API_KEY || \"pk.eyJ1IjoicmVhbHRpbWVsYWIiLCJhIjoiY2x6cWUyYmNkMGNyNzJxcTg5ZHB3cmM3aCJ9.GxeOk3BD74C7ElBQZZCguw\";\r\n\r\nconst Map = ({ caseStudies }) => {\r\n  const [map, setMap] = useState(null);\r\n  const [selectedStudy, setSelectedStudy] = useState(null);\r\n  const [highlightedMarker, setHighlightedMarker] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!map) {\r\n      mapboxgl.accessToken = mapboxToken;\r\n\r\n      const initializeMap = new mapboxgl.Map({\r\n        container: 'map',\r\n        style: 'mapbox://styles/realtimelab/clznlra4y00a001qgan7xdk3p',\r\n        center: [0, 20],\r\n        zoom: 2,\r\n        bearing: 0,\r\n        pitch: 0,\r\n      });\r\n\r\n      caseStudies.forEach(study => {\r\n        const markerElement = document.createElement('div');\r\n        markerElement.className = 'marker';\r\n        markerElement.style.backgroundImage = `url(${markerIcon})`;\r\n        markerElement.style.width = '32px';\r\n        markerElement.style.height = '32px';\r\n        markerElement.style.backgroundSize = '100%';\r\n        markerElement.style.cursor = 'pointer';\r\n\r\n        const marker = new mapboxgl.Marker(markerElement)\r\n          .setLngLat([study.lng, study.lat])\r\n          .addTo(initializeMap);\r\n\r\n        markerElement.addEventListener('click', () => {\r\n          if (highlightedMarker && highlightedMarker !== markerElement) {\r\n            highlightedMarker.style.backgroundImage = `url(${markerIcon})`;\r\n          }\r\n\r\n          markerElement.style.backgroundImage = `url(${selectedMarkerIcon})`;\r\n          setHighlightedMarker(markerElement);\r\n          setSelectedStudy(study);\r\n        });\r\n      });\r\n\r\n      setMap(initializeMap);\r\n    }\r\n\r\n    return () => {\r\n      if (map) map.remove();\r\n    };\r\n  }, [caseStudies, map]);\r\n\r\n  const closePopup = () => {\r\n    if (highlightedMarker) {\r\n      highlightedMarker.style.backgroundImage = `url(${markerIcon})`;\r\n      setHighlightedMarker(null);\r\n    }\r\n    setSelectedStudy(null);\r\n  };\r\n\r\n  const truncateText = (text, maxLength) => {\r\n    if (!text) return '';  // Return an empty string if text is undefined or null\r\n    if (text.length <= maxLength) return text;\r\n    return text.substr(0, maxLength) + '...';\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%' }}>\r\n      <div id=\"map\" style={{ width: '100%', height: '100%' }} />\r\n      {selectedStudy && (\r\n        <div className=\"popup\" style={{\r\n          position: 'absolute',\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translate(-50%, -50%)',\r\n          backgroundColor: 'white',\r\n          padding: '20px',\r\n          borderRadius: '10px',\r\n          boxShadow: '0 4px 10px rgba(0, 0, 0, 0.3)',\r\n          zIndex: 10,\r\n          maxWidth: '300px',\r\n          textAlign: 'center',\r\n          color: '#333',\r\n          fontSize: '1rem',\r\n          lineHeight: '1.5'\r\n        }}>\r\n          <h2 style={{ fontSize: '1.5rem', marginBottom: '10px', color: '#444' }}>{selectedStudy.name}</h2>\r\n          <p style={{ marginBottom: '5px' }}><strong>Location:</strong> {selectedStudy.location}, {selectedStudy.country}</p>\r\n          <p style={{ marginBottom: '5px' }}><strong>Start Year:</strong> {selectedStudy['Start Year']}</p>\r\n          <p style={{ marginBottom: '5px' }}><strong>Creators:</strong> {selectedStudy.Creators}</p>\r\n          <p style={{ marginBottom: '15px' }}>\r\n            <span className=\"fade-text\">\r\n            <strong>Description:</strong> {truncateText(selectedStudy.Description, 50)}\r\n              {selectedStudy.Description && selectedStudy.Description.length > 50 && (\r\n                <span style={{\r\n                  position: 'absolute',\r\n                  right: 0,\r\n                  bottom: 0,\r\n                  width: '2em',\r\n                  height: '1.2em',\r\n                  background: 'linear-gradient(to right, rgba(255, 255, 255, 0) 0%, white 100%)'\r\n                }}></span>\r\n              )}\r\n            </span>\r\n          </p>\r\n          <Link to={`/case-studies/${selectedStudy.id}`} style={{\r\n            display: 'inline-block',\r\n            marginBottom: '15px',\r\n            padding: '10px 20px',\r\n            backgroundColor: '#007acc',\r\n            color: 'white',\r\n            borderRadius: '5px',\r\n            textDecoration: 'none',\r\n            transition: 'background-color 0.3s ease',\r\n          }}\r\n          onMouseEnter={(e) => e.target.style.backgroundColor = '#005fa3'}\r\n          onMouseLeave={(e) => e.target.style.backgroundColor = '#007acc'}\r\n          >Learn more</Link>\r\n          <button onClick={closePopup} style={{\r\n            position: 'absolute',\r\n            top: '10px',\r\n            right: '10px',\r\n            background: 'none',\r\n            border: 'none',\r\n            fontSize: '1.5rem',\r\n            cursor: 'pointer',\r\n            color: '#888',\r\n          }}>âœ–</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","import React from 'react';\r\nimport Map from '../components/Map';\r\nimport HamburgerMenu from '../components/HamburgerMenu';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport caseStudies from '../data/caseStudies'; // Import the data\r\n\r\nconst IndexPage = () => (\r\n  <main style={{ position: 'relative', width: '100vw', height: '100vh' }}>\r\n    <HamburgerMenu />\r\n    <h1 style={{\r\n      position: 'absolute',\r\n      top: '10px',\r\n      left: '50%',\r\n      transform: 'translateX(-50%)',\r\n      fontSize: '3vw', // Responsive font size\r\n      color: '#fff',\r\n      textShadow: '0 2px 4px rgba(0, 0, 0, 0.5)', // Add shadow for better readability\r\n      zIndex: 10,\r\n      textAlign: 'center',\r\n    }}>\r\n      Global Atlas of Digital Twins\r\n    </h1>\r\n    <Map caseStudies={caseStudies} />\r\n  </main>\r\n);\r\n\r\nexport default IndexPage;\r\n"],"names":["mapboxToken","process","GATSBY_MAPBOX_API_KEY","caseStudies","map","setMap","useState","selectedStudy","setSelectedStudy","highlightedMarker","setHighlightedMarker","useEffect","mapboxgl","initializeMap","container","style","center","zoom","bearing","pitch","forEach","study","markerElement","document","createElement","className","backgroundImage","markerIcon","width","height","backgroundSize","cursor","setLngLat","lng","lat","addTo","addEventListener","selectedMarkerIcon","remove","position","top","left","id","transform","backgroundColor","padding","borderRadius","boxShadow","zIndex","maxWidth","textAlign","color","fontSize","lineHeight","marginBottom","name","location","country","Creators","text","Description","maxLength","length","substr","right","bottom","background","Link","to","display","textDecoration","transition","onMouseEnter","e","target","onMouseLeave","onClick","border","HamburgerMenu","textShadow"],"sourceRoot":""}