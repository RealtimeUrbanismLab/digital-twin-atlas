"use strict";(self.webpackChunkdigital_twin_atlas=self.webpackChunkdigital_twin_atlas||[]).push([[363],{3671:function(e,t,a){a.d(t,{Z:function(){return m}});var r=a(7294),n=a(6158),l=a.n(n),o=a.p+"static/marker-icon-41f2877e7936742908d3294c0414c7ac.png",c=a.p+"static/marker-icon-selected-df3c9f2d24f2ceee720bfa6e488759fc.png",s=a(1883);const i={}.GATSBY_MAPBOX_API_KEY||"pk.eyJ1IjoicmVhbHRpbWVsYWIiLCJhIjoiY2x6cWUyYmNkMGNyNzJxcTg5ZHB3cmM3aCJ9.GxeOk3BD74C7ElBQZZCguw";var m=e=>{let{caseStudies:t}=e;const{0:a,1:n}=(0,r.useState)(null),{0:m,1:u}=(0,r.useState)(null),{0:d,1:g}=(0,r.useState)(null);(0,r.useEffect)((()=>{if(!a){l().accessToken=i;const e=new(l().Map)({container:"map",style:"mapbox://styles/realtimelab/clznlra4y00a001qgan7xdk3p",center:[43.098681,32.072086],zoom:3.5,bearing:0,pitch:0});t.forEach((t=>{const a=document.createElement("div");a.className="marker",a.style.backgroundImage="url("+o+")",a.style.width="32px",a.style.height="32px",a.style.backgroundSize="100%",a.style.cursor="pointer";new(l().Marker)(a).setLngLat([t.lng,t.lat]).addTo(e);a.addEventListener("click",(()=>{d&&d!==a&&(d.style.backgroundImage="url("+o+")"),a.style.backgroundImage="url("+c+")",g(a),u(t)}))})),n(e)}return()=>{a&&a.remove()}}),[t,a]);return r.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},r.createElement("div",{id:"map",style:{width:"100%",height:"100%"}}),m&&r.createElement("div",{className:"popup",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"var(--card-background-color)",padding:"var(--space-3)",borderRadius:"var(--border-radius)",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.3)",zIndex:10,maxWidth:"300px",textAlign:"center",color:"var(--text-color)",fontSize:"var(--font-md)",lineHeight:"var(--line-height-normal)"}},r.createElement("h2",{style:{fontSize:"1.5rem",marginBottom:"var(--space-2)",color:"var(--heading-color)"}},m.name),r.createElement("p",{style:{marginBottom:"var(--space-1)"}},r.createElement("strong",null,"Location:")," ",m.location,", ",m.country),r.createElement("p",{style:{marginBottom:"var(--space-1)"}},r.createElement("strong",null,"Start Year:")," ",m["Start Year"]),r.createElement("p",{style:{marginBottom:"var(--space-1)"}},r.createElement("strong",null,"Creators:")," ",m.Creators),r.createElement("p",{style:{marginBottom:"var(--space-3)"}},r.createElement("span",{className:"fade-text"},r.createElement("strong",null,"Description:")," ",(p=m.Description,E=50,p?p.length<=E?p:p.substr(0,E)+"...":""),m.Description&&m.Description.length>50&&r.createElement("span",{style:{position:"absolute",right:0,bottom:0,width:"2em",height:"1.2em",background:"linear-gradient(to right, rgba(255, 255, 255, 0) 0%, var(--card-background-color) 100%)"}}))),r.createElement(s.Link,{to:"/case-studies/"+m.id,style:{display:"inline-block",marginBottom:"var(--space-3)",padding:"var(--space-2) var(--space-3)",backgroundColor:"var(--button-background-color)",color:"var(--button-text-color)",borderRadius:"var(--border-radius)",textDecoration:"none",transition:"background-color 0.3s ease"},onMouseEnter:e=>e.target.style.backgroundColor="var(--button-hover-background-color)",onMouseLeave:e=>e.target.style.backgroundColor="var(--button-background-color)"},"Learn more"),r.createElement("button",{onClick:()=>{d&&(d.style.backgroundImage="url("+o+")",g(null)),u(null)},style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-color)"}},"✖")));var p,E}},5895:function(e,t,a){a.r(t);var r=a(5785),n=a(7294),l=a(1883),o=a(3574),c=a(7048),s=a.n(c),i=a(3148),m=a(6495),u=a(7061);a(3671);i.kL.register(i.uw,i.f$,i.ZL,i.qi,i.Dx,i.u,i.De);t.default=()=>{const{0:e,1:t}=(0,n.useState)("alphabetical"),{0:a,1:c}=(0,n.useState)("asc"),{0:i,1:d}=(0,n.useState)(!1),{0:g,1:p}=(0,n.useState)(""),{0:E,1:b}=(0,n.useState)(12),{0:y,1:h}=(0,n.useState)({country:"",status:""}),v=(0,n.useRef)(),S=e=>{const{name:t,value:a}=e.target;h({...y,[t]:a})};let k,f,C,N,x;"undefined"!=typeof window&&(k=getComputedStyle(document.documentElement).getPropertyValue("--primary-color").trim(),f=getComputedStyle(document.documentElement).getPropertyValue("--secondary-color").trim(),C=getComputedStyle(document.documentElement).getPropertyValue("--accent-color-1").trim(),N=getComputedStyle(document.documentElement).getPropertyValue("--accent-color-2").trim(),x=getComputedStyle(document.documentElement).getPropertyValue("--accent-color-3").trim());const w=(0,r.Z)(s()).filter((e=>(!i||"Yes"===e.shortList)&&(""===g||e.name.toLowerCase().includes(g.toLowerCase()))&&(""===y.country||e.country===y.country)&&(""===y.status||e.FinalStatus===y.status))).sort(((t,r)=>{const n="asc"===a?1:-1;switch(e){case"alphabetical":return n*t.name.localeCompare(r.name);case"city":return n*t.location.localeCompare(r.location);case"country":return n*t.country.localeCompare(r.country);case"area":return n*(parseFloat(r["Total Area (km2)"])-parseFloat(t["Total Area (km2)"]));case"startYear":return n*(t["Start Year"]-r["Start Year"]);case"status":return n*t.FinalStatus.localeCompare(r.FinalStatus);default:return 0}})),A=w.slice(0,E);(0,n.useEffect)((()=>{const e=new IntersectionObserver((e=>{e[0].isIntersecting&&b((e=>Math.min(e+12,w.length)))}));return v.current&&e.observe(v.current),()=>{v.current&&e.unobserve(v.current)}}),[w]);const P={labels:(0,r.Z)(new Set(s().map((e=>e.country)))),datasets:[{label:"Number of Projects by Country",data:(0,r.Z)(new Set(s().map((e=>e.country)))).map((e=>s().filter((t=>t.country===e)).length)),backgroundColor:f?f+"B3":"rgba(52, 152, 219, 0.7)",borderColor:f||"rgba(52, 152, 219, 1)",borderWidth:1}]},D={labels:["Completed","In Progress","Failed","Did Not Start"],datasets:[{label:"Project Status Distribution",data:[s().filter((e=>"Completed"===e.FinalStatus)).length,s().filter((e=>"In Progress"===e.FinalStatus)).length,s().filter((e=>"Failed"===e.FinalStatus)).length,s().filter((e=>"Did Not Start"===e.FinalStatus)).length],backgroundColor:[C?C+"B3":"rgba(46, 204, 113, 0.7)",k?k+"B3":"rgba(52, 152, 219, 0.7)",x?x+"B3":"rgba(231, 76, 60, 0.7)",N?N+"B3":"rgba(155, 89, 182, 0.7)"],borderColor:[C||"rgba(46, 204, 113, 1)",k||"rgba(52, 152, 219, 1)",x||"rgba(231, 76, 60, 1)",N||"rgba(155, 89, 182, 1)"],borderWidth:1}]};return n.createElement("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"}},n.createElement(o.Z,null),n.createElement("h1",null,"Case Studies"),n.createElement("div",{className:"controls sticky-filters"},n.createElement("div",{className:"filters-group"},n.createElement("div",{className:"filter-controls"},n.createElement("label",null,"Filters:"),n.createElement("select",{name:"country",value:y.country,onChange:S},n.createElement("option",{value:""},"Country: All"),(0,r.Z)(new Set(s().map((e=>e.country)))).map((e=>n.createElement("option",{key:e,value:e},e)))),n.createElement("select",{name:"status",value:y.status,onChange:S},n.createElement("option",{value:""},"Status: All"),n.createElement("option",{value:"Completed"},"Completed"),n.createElement("option",{value:"In Progress"},"In Progress"),n.createElement("option",{value:"Failed"},"Failed"),n.createElement("option",{value:"Did Not Start"},"Did Not Start"))),n.createElement("input",{type:"text",className:"search-bar",placeholder:"Search case studies...",value:g,onChange:e=>p(e.target.value)})),n.createElement("div",{className:"sort-toggle-group"},n.createElement("div",{className:"toggle-switch"},n.createElement("label",{className:"toggle-label"},n.createElement("input",{type:"checkbox",checked:i,onChange:e=>d(e.target.checked)}),n.createElement("span",{className:"slider"}),n.createElement("span",{className:"toggle-text"},"Short List Only"))),n.createElement("div",{className:"toggle-button"},n.createElement("button",{onClick:()=>c("asc"===a?"desc":"asc")},"asc"===a?"Ascending":"Descending")))),n.createElement("div",{className:"charts"},n.createElement("div",{className:"chart-wrapper"},n.createElement("h3",{className:"chart-title"},"Project Status Distribution"),n.createElement("div",{className:"chart-container"},n.createElement(m.by,{data:D,options:{maintainAspectRatio:!1}})))),n.createElement("div",{className:"chart-wrapper"},n.createElement("h3",{className:"chart-title"},"Projects by Country"),n.createElement("div",{className:"chart-container"},n.createElement(m.$Q,{data:P,options:{maintainAspectRatio:!1}}))),n.createElement("div",{className:"case-studies-grid"},A.map((e=>n.createElement("div",{className:"card case-study-card",key:e.id},n.createElement(l.Link,{to:"/case-studies/"+e.id},n.createElement("h3",{className:"card-title"},e.name),n.createElement("div",{className:"image-container"},n.createElement("img",{src:e.imagePath||u.Z,alt:e.name,className:"duotone img"}),"Yes"===e.shortList&&n.createElement("span",{className:"shortlist-tag"},"Short Listed")),n.createElement("div",{className:"card-body"},n.createElement("ul",{className:"details-list"},n.createElement("li",null,n.createElement("strong",null,"Country:")," ",e.country||"N/A"),n.createElement("li",null,n.createElement("strong",null,"City:")," ",e.location||"N/A"),n.createElement("li",null,n.createElement("strong",null,"Creators:")," ",e.Creators||"N/A"),n.createElement("li",null,n.createElement("strong",null,"Total Area:")," ",e["Total Area (km2)"]||"N/A"," km²"),n.createElement("li",null,n.createElement("strong",null,"Platform/Organization:")," ",e["Platform/Organization"]||"N/A"),n.createElement("li",null,n.createElement("strong",null,"System Digital Twinned:")," ",e["System Digital Twinned"]||"N/A"),n.createElement("li",null,n.createElement("strong",null,"3D Platform Features:")," ",e["3D Platform Features"]||"N/A"),n.createElement("li",null,n.createElement("span",{style:{color:"Completed"===e.FinalStatus?"green":"In Progress"===e.FinalStatus?"orange":"red"}},n.createElement("strong",null,"Status: "),e.FinalStatus||"N/A"))))))))),n.createElement("div",{ref:v,style:{height:"50px",marginTop:"20px"}}))}}}]);
//# sourceMappingURL=component---src-pages-case-studies-list-js-32f9ce579b58e8f646d5.js.map