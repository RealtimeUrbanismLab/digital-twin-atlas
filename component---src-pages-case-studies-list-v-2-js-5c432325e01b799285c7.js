"use strict";(self.webpackChunkdigital_twin_atlas=self.webpackChunkdigital_twin_atlas||[]).push([[658],{3671:function(e,t,a){a.d(t,{Z:function(){return m}});var r=a(7294),l=a(6158),n=a.n(l),o=a.p+"static/marker-icon-41f2877e7936742908d3294c0414c7ac.png",c=a.p+"static/marker-icon-selected-df3c9f2d24f2ceee720bfa6e488759fc.png",s=a(1883);const i={}.GATSBY_MAPBOX_API_KEY||"pk.eyJ1IjoicmVhbHRpbWVsYWIiLCJhIjoiY2x6cWUyYmNkMGNyNzJxcTg5ZHB3cmM3aCJ9.GxeOk3BD74C7ElBQZZCguw";var m=e=>{let{caseStudies:t}=e;const{0:a,1:l}=(0,r.useState)(null),{0:m,1:u}=(0,r.useState)(null),{0:d,1:g}=(0,r.useState)(null);(0,r.useEffect)((()=>{if(!a){n().accessToken=i;const e=new(n().Map)({container:"map",style:"mapbox://styles/realtimelab/clznlra4y00a001qgan7xdk3p",center:[43.098681,32.072086],zoom:3.5,bearing:0,pitch:0});t.forEach((t=>{const a=document.createElement("div");a.className="marker",a.style.backgroundImage="url("+o+")",a.style.width="32px",a.style.height="32px",a.style.backgroundSize="100%",a.style.cursor="pointer";new(n().Marker)(a).setLngLat([t.lng,t.lat]).addTo(e);a.addEventListener("click",(()=>{d&&d!==a&&(d.style.backgroundImage="url("+o+")"),a.style.backgroundImage="url("+c+")",g(a),u(t)}))})),l(e)}return()=>{a&&a.remove()}}),[t,a]);return r.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},r.createElement("div",{id:"map",style:{width:"100%",height:"100%"}}),m&&r.createElement("div",{className:"popup",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"var(--card-background-color)",padding:"var(--space-3)",borderRadius:"var(--border-radius)",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.3)",zIndex:10,maxWidth:"300px",textAlign:"center",color:"var(--text-color)",fontSize:"var(--font-md)",lineHeight:"var(--line-height-normal)"}},r.createElement("h2",{style:{fontSize:"1.5rem",marginBottom:"var(--space-2)",color:"var(--heading-color)"}},m.name),r.createElement("p",{style:{marginBottom:"var(--space-1)"}},r.createElement("strong",null,"Location:")," ",m.location,", ",m.country),r.createElement("p",{style:{marginBottom:"var(--space-1)"}},r.createElement("strong",null,"Start Year:")," ",m["Start Year"]),r.createElement("p",{style:{marginBottom:"var(--space-1)"}},r.createElement("strong",null,"Creators:")," ",m.Creators),r.createElement("p",{style:{marginBottom:"var(--space-3)"}},r.createElement("span",{className:"fade-text"},r.createElement("strong",null,"Description:")," ",(p=m.Description,E=50,p?p.length<=E?p:p.substr(0,E)+"...":""),m.Description&&m.Description.length>50&&r.createElement("span",{style:{position:"absolute",right:0,bottom:0,width:"2em",height:"1.2em",background:"linear-gradient(to right, rgba(255, 255, 255, 0) 0%, var(--card-background-color) 100%)"}}))),r.createElement(s.Link,{to:"/case-studies/"+m.id,style:{display:"inline-block",marginBottom:"var(--space-3)",padding:"var(--space-2) var(--space-3)",backgroundColor:"var(--button-background-color)",color:"var(--button-text-color)",borderRadius:"var(--border-radius)",textDecoration:"none",transition:"background-color 0.3s ease"},onMouseEnter:e=>e.target.style.backgroundColor="var(--button-hover-background-color)",onMouseLeave:e=>e.target.style.backgroundColor="var(--button-background-color)"},"Learn more"),r.createElement("button",{onClick:()=>{d&&(d.style.backgroundImage="url("+o+")",g(null)),u(null)},style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-color)"}},"✖")));var p,E}},2458:function(e,t,a){a.r(t);var r=a(5785),l=a(7294),n=a(1883),o=a(3574),c=a(7048),s=a.n(c),i=a(3148),m=a(6495),u=a(7061),d=a(3671);i.kL.register(i.uw,i.f$,i.ZL,i.qi,i.Dx,i.u,i.De);t.default=()=>{const{0:e,1:t}=(0,l.useState)("alphabetical"),{0:a,1:c}=(0,l.useState)("asc"),{0:i,1:g}=(0,l.useState)(!1),{0:p,1:E}=(0,l.useState)(""),{0:b,1:h}=(0,l.useState)(12),{0:y,1:v}=(0,l.useState)({country:"",status:""}),S=(0,l.useRef)(),k=e=>{const{name:t,value:a}=e.target;v({...y,[t]:a})};let N,f,C,x,w;"undefined"!=typeof window&&(N=getComputedStyle(document.documentElement).getPropertyValue("--primary-color").trim(),f=getComputedStyle(document.documentElement).getPropertyValue("--secondary-color").trim(),C=getComputedStyle(document.documentElement).getPropertyValue("--accent-color-1").trim(),x=getComputedStyle(document.documentElement).getPropertyValue("--accent-color-2").trim(),w=getComputedStyle(document.documentElement).getPropertyValue("--accent-color-3").trim());const A=(0,r.Z)(s()).filter((e=>(!i||"Yes"===e.shortList)&&(""===p||e.name.toLowerCase().includes(p.toLowerCase()))&&(""===y.country||e.country===y.country)&&(""===y.status||e.FinalStatus===y.status))).sort(((t,r)=>{const l="asc"===a?1:-1;switch(e){case"alphabetical":return l*t.name.localeCompare(r.name);case"city":return l*t.location.localeCompare(r.location);case"country":return l*t.country.localeCompare(r.country);case"area":return l*(parseFloat(r["Total Area (km2)"])-parseFloat(t["Total Area (km2)"]));case"startYear":return l*(t["Start Year"]-r["Start Year"]);case"status":return l*t.FinalStatus.localeCompare(r.FinalStatus);default:return 0}})),P=A.slice(0,b);(0,l.useEffect)((()=>{const e=new IntersectionObserver((e=>{e[0].isIntersecting&&h((e=>Math.min(e+12,A.length)))}));return S.current&&e.observe(S.current),()=>{S.current&&e.unobserve(S.current)}}),[A]);const D={labels:(0,r.Z)(new Set(s().map((e=>e.country)))),datasets:[{label:"Number of Projects by Country",data:(0,r.Z)(new Set(s().map((e=>e.country)))).map((e=>s().filter((t=>t.country===e)).length)),backgroundColor:f?f+"B3":"rgba(52, 152, 219, 0.7)",borderColor:f||"rgba(52, 152, 219, 1)",borderWidth:1}]},F={labels:["Completed","In Progress","Failed","Did Not Start"],datasets:[{label:"Project Status Distribution",data:[s().filter((e=>"Completed"===e.FinalStatus)).length,s().filter((e=>"In Progress"===e.FinalStatus)).length,s().filter((e=>"Failed"===e.FinalStatus)).length,s().filter((e=>"Did Not Start"===e.FinalStatus)).length],backgroundColor:[C?C+"B3":"rgba(46, 204, 113, 0.7)",N?N+"B3":"rgba(52, 152, 219, 0.7)",w?w+"B3":"rgba(231, 76, 60, 0.7)",x?x+"B3":"rgba(155, 89, 182, 0.7)"],borderColor:[C||"rgba(46, 204, 113, 1)",N||"rgba(52, 152, 219, 1)",w||"rgba(231, 76, 60, 1)",x||"rgba(155, 89, 182, 1)"],borderWidth:1}]};return l.createElement("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"}},l.createElement(o.Z,null),l.createElement("h1",null,"Case Studies"),l.createElement("div",{className:"controls sticky-filters"},l.createElement("div",{className:"filters-group"},l.createElement("div",{className:"filter-controls"},l.createElement("label",null,"Filters:"),l.createElement("select",{name:"country",value:y.country,onChange:k},l.createElement("option",{value:""},"Country: All"),(0,r.Z)(new Set(s().map((e=>e.country)))).map((e=>l.createElement("option",{key:e,value:e},e)))),l.createElement("select",{name:"status",value:y.status,onChange:k},l.createElement("option",{value:""},"Status: All"),l.createElement("option",{value:"Completed"},"Completed"),l.createElement("option",{value:"In Progress"},"In Progress"),l.createElement("option",{value:"Failed"},"Failed"),l.createElement("option",{value:"Did Not Start"},"Did Not Start"))),l.createElement("input",{type:"text",className:"search-bar",placeholder:"Search case studies...",value:p,onChange:e=>E(e.target.value)})),l.createElement("div",{className:"sort-toggle-group"},l.createElement("div",{className:"toggle-switch"},l.createElement("label",{className:"toggle-label"},l.createElement("input",{type:"checkbox",checked:i,onChange:e=>g(e.target.checked)}),l.createElement("span",{className:"slider"}),l.createElement("span",{className:"toggle-text"},"Short List Only"))),l.createElement("div",{className:"toggle-button"},l.createElement("button",{onClick:()=>c("asc"===a?"desc":"asc")},"asc"===a?"Ascending":"Descending")))),l.createElement("div",{className:"charts"},l.createElement("div",{className:"chart-wrapper"},l.createElement("h3",{className:"chart-title"},"Map"),l.createElement("div",{className:"map-container1"},l.createElement(d.Z,{caseStudies:s()}))),l.createElement("div",{className:"chart-wrapper"},l.createElement("h3",{className:"chart-title"},"Project Status Distribution"),l.createElement("div",{className:"chart-container"},l.createElement(m.by,{data:F,options:{maintainAspectRatio:!1}})))),l.createElement("div",{className:"chart-wrapper"},l.createElement("h3",{className:"chart-title"},"Projects by Country"),l.createElement("div",{className:"chart-container"},l.createElement(m.$Q,{data:D,options:{maintainAspectRatio:!1}}))),l.createElement("div",{className:"case-studies-grid"},P.map((e=>l.createElement("div",{className:"card case-study-card",key:e.id},l.createElement(n.Link,{to:"/case-studies/"+e.id},l.createElement("h3",{className:"card-title"},e.name),l.createElement("div",{className:"image-container"},l.createElement("img",{src:e.imagePath||u.Z,alt:e.name,className:"duotone img"}),"Yes"===e.shortList&&l.createElement("span",{className:"shortlist-tag"},"Short Listed")),l.createElement("div",{className:"card-body"},l.createElement("ul",{className:"details-list"},l.createElement("li",null,l.createElement("strong",null,"Country:")," ",e.country||"N/A"),l.createElement("li",null,l.createElement("strong",null,"City:")," ",e.location||"N/A"),l.createElement("li",null,l.createElement("strong",null,"Creators:")," ",e.Creators||"N/A"),l.createElement("li",null,l.createElement("strong",null,"Total Area:")," ",e["Total Area (km2)"]||"N/A"," km²"),l.createElement("li",null,l.createElement("strong",null,"Platform/Organization:")," ",e["Platform/Organization"]||"N/A"),l.createElement("li",null,l.createElement("strong",null,"System Digital Twinned:")," ",e["System Digital Twinned"]||"N/A"),l.createElement("li",null,l.createElement("strong",null,"3D Platform Features:")," ",e["3D Platform Features"]||"N/A"),l.createElement("li",null,l.createElement("span",{style:{color:"Completed"===e.FinalStatus?"green":"In Progress"===e.FinalStatus?"orange":"red"}},l.createElement("strong",null,"Status: "),e.FinalStatus||"N/A"))))))))),l.createElement("div",{ref:S,style:{height:"50px",marginTop:"20px"}}))}}}]);
//# sourceMappingURL=component---src-pages-case-studies-list-v-2-js-5c432325e01b799285c7.js.map